Disclaimer: I didn't write this code, originally. 
This is just the CharacterMotor and InputController that comes with Unity, ported over to C# from JavaScript.
If you are the original author, and would like me to take this down, add some legal text, etc. let me know!